<!DOCTYPE html>
<!-- The `scroll-smooth` class enables smooth scrolling when navigating with anchor links. -->
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <!--
      THIS IS THE MOST IMPORTANT TAG FOR RESPONSIVE DESIGN.
      `width=device-width` sets the page width to the screen width of the device.
      `initial-scale=1.0` sets the initial zoom level to 100%, preventing the page from looking zoomed out on mobile.
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Life Insurance Industry: An Analysis</title>
    <!-- Loading Tailwind CSS, a utility-first framework that makes responsive design easy. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Loading Chart.js for creating responsive charts. -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Loading D3.js and TopoJSON for the responsive world map. -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>
    <!-- Loading custom fonts from Google Fonts for a consistent look across browsers and OS. -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lora:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* --- SCROLL SNAP INTEGRATION --- */
        /* This rule turns the entire page into a scroll snap container for the vertical axis. */
        /* 'mandatory' ensures that the browser will always snap to a snap point after scrolling. */
        html {
            scroll-snap-type: y mandatory;
        }

        /* These rules designate the header and each main section as snap points. */
        /* 'start' aligns the top of the element with the top of the viewport. */
        header, main > section {
            scroll-snap-align: start;
        }

        /* This class makes each section at least the viewport height, allowing it to grow for more content. */
        .scroll-section {
            min-height: 100vh; /* Use min-height instead of height to prevent content overflow */
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-top: 4rem;
            padding-bottom: 4rem;
        }
        /* --- END SCROLL SNAP INTEGRATION --- */

        /* Apply box-sizing: border-box globally for consistent element sizing */
        *, *::before, *::after {
            box-sizing: border-box;
        }
        /* Explicitly reset default margin and padding on the body */
        body {
            font-family: 'Lora', serif;
            background-color: #F8F5F2;
            color: #4A4A4A;
            margin: 0; /* Ensures no default body margin */
            padding: 0; /* Ensures no default body padding */
            overflow-x: hidden; /* Prevent horizontal scrollbars from animations */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
        }
        .section-title {
            position: relative;
            padding-bottom: 0.75rem;
            margin-bottom: 2rem;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: #A67B5B;
        }
        .story-card {
            background-color: #FFFFFF;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 5px solid #A67B5B;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }
        .story-card::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -20px;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle at top left, rgba(166, 123, 91, 0.1) 0%, rgba(166, 123, 91, 0) 70%);
            border-radius: 50%;
            z-index: 0;
        }
        .story-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
        }
        .story-card-icon {
            margin-bottom: 1rem;
            color: #A67B5B;
            position: relative;
            z-index: 1;
        }

        .kpi {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
            border: 1px solid #EAEAEA;
        }
        .kpi-value {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            font-weight: 700;
        }
        .kpi-label {
            font-size: 1rem;
            color: #6B7280;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
        }
        .chart-card {
            background-color: white;
            padding: 2rem; /* Default for mobile */
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }
        .future-card {
            background-color: white;
            padding: 2.5rem; /* Default for mobile */
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            border-top: 5px solid;
            display: flex;
            flex-direction: column;
        }
         .future-card-one-pager {
            background-color: #FFFFFF;
            padding: 3rem; /* Default for mobile */
            border-radius: 1rem;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            border-top: 6px solid;
            grid-column: 1 / -1;
        }
        .future-card-icon {
            height: 30px;
            width: 30px;
            margin-right: 0.75rem;
        }
        .future-card-icon svg {
            width: 100%;
            height: 100%;
        }
        .future-card ul {
            list-style-position: inside;
            padding-left: 0.5rem;
            flex-grow: 1;
        }
        .future-card-heading {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        #worldMap {
            width: 100%;
            height: 500px;
            margin: 0 auto;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            background-color: #E0F7FA;
        }
        #worldMap svg {
            background-color: #E0F7FA;
        }
        .country {
            stroke: #ffffff;
            stroke-width: 0.5px;
            cursor: pointer;
            transition: fill 0.3s ease;
        }
        .country:hover {
            opacity: 0.8;
        }
        .tooltip {
            position: absolute;
            text-align: center;
            width: auto;
            height: auto;
            padding: 8px;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            border-radius: 5px;
            pointer-events: none;
            font-size: 0.8em;
            line-height: 1.5;
            z-index: 1000;
        }
        .pictogram-container {
            position: relative;
            width: 100%;
            height: 350px;
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            padding: 20px 0;
            box-sizing: border-box;
        }
        .pictogram-column {
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
            justify-content: flex-end;
            margin: 0 10px;
        }
        .pictogram-icon-group {
            display: block;
            margin-bottom: 5px;
        }
        .pictogram-icon-group svg {
            width: 30px;
            height: 30px;
        }
        .pictogram-label {
            font-size: 0.9rem;
            color: #6B7280;
            margin-top: 10px;
        }
        .pictogram-unit-legend {
            font-size: 0.85rem;
            color: #6B7280;
            text-align: center;
            margin-top: 10px;
            font-style: italic;
        }
        
        /* Dynamic Scrollytelling Styles */
        .reveal-on-scroll {
            opacity: 0;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .reveal-on-scroll.fade-in-up {
            transform: translateY(50px);
        }

        .reveal-on-scroll.fade-in-left {
            transform: translateX(-50px);
        }

        .reveal-on-scroll.fade-in-right {
            transform: translateX(50px);
        }

        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: none;
        }

        /* Default font size for content cards (large screens) */
        .story-card p,
        .chart-card p,
        .future-card p,
        .future-card-one-pager p,
        .future-card ul li,
        .future-card-one-pager ul li {
            font-size: 1.125rem !important; /* text-lg equivalent */
        }

        /* Default font size for KPI labels (large screens) */
        .kpi-label {
            font-size: 1.125rem !important;
        }

        /* Mobile adjustments for card padding and font sizes */
        @media (max-width: 768px) { /* For screens smaller than md (768px) */
            .chart-card {
                padding: 1.5rem; /* Reduced padding for smaller screens */
            }
            .future-card {
                padding: 1.75rem; /* Reduced padding for smaller screens */
            }
            .future-card-one-pager {
                padding: 2rem; /* Reduced padding for smaller screens */
            }
            .kpi {
                padding: 1.5rem; /* Reduced padding for KPIs on mobile */
            }
            .kpi-value {
                font-size: 2.5rem; /* Slightly smaller KPI value on mobile */
            }
            .section-title {
                font-size: 3rem !important; /* Adjust section titles for mobile */
            }
            .section-title::after {
                width: 60px; /* Adjust underline width for mobile */
            }
            /* Adjust introductory paragraphs for sections on smaller screens */
            main > section > p { 
                font-size: 1.125rem !important; /* Still larger than card text for emphasis */
            }
            .story-card p,
            .chart-card p,
            .future-card p,
            .future-card-one-pager p,
            .future-card ul li,
            .future-card-one-pager ul li {
                font-size: 1.05rem !important; /* Slightly smaller for better fit */
            }
            .kpi-label {
                font-size: 1.05rem !important;
            }
        }

        @media (max-width: 480px) { /* Even smaller adjustments for very small screens (480px) */
            .story-card p,
            .chart-card p,
            .future-card p,
            .future-card-one-pager p,
            .future-card ul li,
            .future-card-one-pager ul li {
                font-size: 0.95rem !important; /* Further reduced font size on very small screens */
            }
            .kpi-label {
                font-size: 0.95rem !important;
            }
            .chart-card, .future-card, .future-card-one-pager, .kpi {
                padding: 1rem; /* Minimum padding for very small screens */
            }
            .section-title {
                font-size: 2.25rem !important; /* Even smaller section titles */
            }
             .kpi-value {
                font-size: 2rem; /* Further smaller KPI value on very small screens */
            }
            main > section > p { /* Adjust introductory paragraphs for sections on very small screens */
                font-size: 1rem !important;
            }
        }
    </style>
</head>
<body>

    <header class="text-center bg-white shadow-sm scroll-section">
        <div class="container mx-auto px-6">
            <h1 class="text-5xl md:text-6xl font-bold text-gray-800 tracking-tight">An Analysis of the Indian Life Insurance Sector</h1>
            <p class="mt-4 text-xl text-gray-600 max-w-3xl mx-auto">A Data-Driven Overview of Market Performance, Competitive Dynamics, and Regulatory Evolution.</p>
        </div>
    </header>

    <main class="container mx-auto px-0 sm:px-1 md:px-2 lg:px-4">

        <section id="introduction" class="scroll-section">
            <h2 class="text-5xl font-bold text-center section-title reveal-on-scroll fade-in-up">Industry Overview: Growth Projections vs. Market Realities</h2>
            <p class="max-w-5xl mx-auto text-center text-xl md:text-2xl leading-relaxed text-gray-700 reveal-on-scroll fade-in-up" style="transition-delay: 100ms;">
                The Indian life insurance sector exhibits a significant dichotomy. While projected to grow at a Compound Annual Growth Rate (CAGR) exceeding 10%, the market is constrained by low penetration and density rates, indicating a substantial protection gap. This analysis examines the industry's robust performance metrics, the impact of recent regulatory reforms, and the structural challenges impeding universal coverage.
            </p>
            <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="kpi reveal-on-scroll fade-in-up" style="transition-delay: 200ms;">
                    <div class="kpi-value text-green-600">10.5%</div>
                    <div class="kpi-label">Projected Annual Growth</div>
                </div>
                <div class="kpi reveal-on-scroll fade-in-up" style="transition-delay: 300ms;">
                    <div class="kpi-value text-red-500">3.7%</div>
                    <div class="kpi-label">Insurance Penetration (FY24)</div>
                </div>
                <div class="kpi reveal-on-scroll fade-in-up" style="transition-delay: 400ms;">
                    <div class="kpi-value text-blue-600">$95</div>
                    <div class="kpi-label">Insurance Density (FY24)</div>
                </div>
            </div>
        </section>

        <section id="market" class="scroll-section">
            <h2 class="text-5xl font-bold text-center section-title reveal-on-scroll fade-in-up">Key Performance Indicators: A Quantitative Review</h2>
            <p class="max-w-5xl mx-auto text-center text-xl md:text-2xl leading-relaxed text-gray-700 mb-12 reveal-on-scroll fade-in-up" style="transition-delay: 100ms;">
                Financial aggregates demonstrate a consistent upward trend, reflecting sustained market expansion and increasing consumer adoption of insurance products.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto">
                <div class="chart-card reveal-on-scroll fade-in-left">
                    <h3 class="text-xl font-semibold mb-1 text-center">Total Premium Growth</h3>
                    <div id="totalPremiumPictogram" class="pictogram-container"></div>
                    <p class="text-base text-gray-600 mt-4 text-center">
                        The year-over-year increase in total premium income, from ₹5.7 lakh crore in FY20 to nearly ₹8.3 lakh crore in FY24, indicates significant market expansion and growing consumer investment in life insurance products.
                    </p>
                </div>
                <div class="chart-card reveal-on-scroll fade-in-right">
                    <h3 class="text-xl font-semibold mb-1 text-center">New Policy Issuance Trends</h3>
                    <div id="newPoliciesPictogram" class="pictogram-container"></div>
                    <p class="text-base text-gray-600 mt-4 text-center">
                        The increase in new policies issued, from 27 million in FY20 to over 36 million in FY24, directly reflects enhanced market reach and growing public awareness of financial protection instruments.
                    </p>
                </div>
                <div class="chart-card reveal-on-scroll fade-in-left">
                    <h3 class="text-xl font-semibold mb-1 text-center">Growth in Assets Under Management (AUM)</h3>
                    <div id="aumPictogram" class="pictogram-container"></div>
                    <p class="text-base text-gray-600 mt-4 text-center">
                        The growth in Assets Under Management (AUM) from ₹31 lakh crore to ₹45 lakh crore over five years highlights the industry's role as a major contributor of long-term capital to the national economy, funding infrastructure and development.
                    </p>
                </div>
                <div class="chart-card reveal-on-scroll fade-in-right">
                     <h3 class="text-xl font-semibold mb-1 text-center">New Business Premium Trajectory</h3>
                    <div id="newBusinessPremiumPictogram" class="pictogram-container"></div>
                    <p class="text-base text-gray-600 mt-4 text-center">
                        The consistent growth of new business premium, from ₹1.8 lakh crore to ₹2.8 lakh crore, is a primary indicator of strong sales performance, effective distribution strategies, and robust demand for new insurance products.
                    </p>
                </div>
            </div>
        </section>

        <section id="coverage" class="scroll-section">
            <h2 class="text-5xl font-bold text-center section-title reveal-on-scroll fade-in-up">Analysis of the Protection Gap</h2>
            <p class="max-w-5xl mx-auto text-center text-xl md:text-2xl leading-relaxed text-gray-700 mb-12 reveal-on-scroll fade-in-up" style="transition-delay: 100ms;">
                Despite positive economic indicators and market growth, a significant protection gap persists. This paradox is rooted in structural barriers that limit widespread insurance adoption.
            </p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto mb-12">
                <div class="chart-card lg:col-span-2 reveal-on-scroll fade-in-up">
                    <h3 class="text-xl font-semibold text-center mb-4">Indian Penetration & Density: Historical Trends</h3>
                    <div class="flex flex-col md:flex-row items-center gap-8">
                        <div class="w-full md:w-3/5">
                            <div class="chart-container">
                                <canvas id="penetrationDensityCombinedChart"></canvas>
                            </div>
                        </div>
                        <div class="w-full md:w-2/5">
                            <p class="text-base text-gray-600 text-center md:text-left">
                                Data reveals a stagnation in key metrics. While insurance penetration and density show nominal growth, the pace is insufficient to close the protection gap, with a notable decline in overall penetration in FY24. This illustrates the challenge of translating economic growth into deeper market saturation.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="chart-card lg:col-span-2 reveal-on-scroll fade-in-up" style="transition-delay: 200ms;">
                    <h3 class="text-xl font-semibold text-center mb-4">Global Comparison: India's Position</h3>
                    <p class="text-xs text-gray-500 text-center mb-2 mt-0">
                        <svg class="inline-block h-4 w-4 mr-1 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg> Hover over map countries for details.
                    </p>
                     <div class="flex flex-col md:flex-row items-center gap-8">
                        <div class="w-full md:w-3/5">
                            <div id="worldMap" class="chart-container" style="height: 500px;"></div>
                        </div>
                        <div class="w-full md:w-2/5">
                            <p class="text-base text-gray-600 text-center md:text-left">
                                In a global context, India's insurance metrics lag significantly behind developed economies. The country's low penetration rate and density figure—$95 per capita versus several thousand in developed nations—quantify the substantial gap in financial security compared to global benchmarks.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

             <h3 class="text-4xl font-bold text-center mt-16 mb-8 reveal-on-scroll fade-in-up">Causal Factors of Under-penetration</h3>
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 100ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Lack of Awareness</h3>
                    <p class="text-base">A major hurdle, especially in rural areas, where insurance is often perceived as a complex, discretionary product rather than a financial necessity.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 200ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Perception of Cost</h3>
                    <p class="text-base">Premiums are frequently viewed as an expenditure rather than a long-term investment in security, a perspective prevalent among lower-income demographics.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 300ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Trust Deficit</h3>
                    <p class="text-base">Complex claims processes and historical grievances have created consumer skepticism, leading to hesitation in purchasing policies.</p>
                </div>
            </div>
        </section>

        <section id="growth" class="scroll-section">
            <h2 class="text-5xl font-bold text-center section-title reveal-on-scroll fade-in-up">Principal Growth Drivers</h2>
            <p class="max-w-5xl mx-auto text-center text-xl md:text-2xl leading-relaxed text-gray-700 mb-12 reveal-on-scroll fade-in-up" style="transition-delay: 100ms;">
                A confluence of economic, social, and regulatory factors is propelling industry growth. These catalysts are expanding the market and redefining product distribution and consumption.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 200ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Economic Prosperity</h3>
                    <p class="text-base">Rising disposable incomes and an expanding middle class are creating a fertile ground for financial planning and security products.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 300ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Heightened Risk Awareness</h3>
                    <p class="text-base">The post-pandemic environment has increased public consciousness regarding financial security and the critical need for risk mitigation.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 400ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Supportive Regulatory Reforms</h3>
                    <p class="text-base">Proactive policies from IRDAI, including liberalized FDI norms, are fostering a more competitive and attractive market landscape.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 500ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Digital Transformation</h3>
                    <p class="text-base">Technology is revolutionizing distribution, underwriting, and claims processing, thereby enhancing accessibility and operational efficiency.</p>
                </div>
                 <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 600ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Government Initiatives</h3>
                    <p class="text-base">Schemes like PM-JAY are extending basic coverage to millions, establishing a foundational culture of insurance at the grassroots level.</p>
                </div>
                 <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-up" style="transition-delay: 700ms;">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Insurtech Innovation</h3>
                    <p class="text-base">Emerging customer-centric models, including embedded and parametric insurance, are increasing product relevance and user-friendliness.</p>
                </div>
            </div>
        </section>

        <section id="future" class="scroll-section">
             <h2 class="text-5xl font-bold text-center section-title reveal-on-scroll fade-in-up">Future Outlook: Regulatory and Market Evolution</h2>
            <p class="max-w-5xl mx-auto text-center text-xl md:text-2xl leading-relaxed text-gray-700 mb-12 reveal-on-scroll fade-in-up" style="transition-delay: 100ms;">
                The industry's future trajectory is being shaped by landmark consolidation, progressive FDI policies, and sweeping regulatory reforms aimed at creating a more dynamic, inclusive, and customer-centric ecosystem.
            </p>
            <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 text-left">
                <div class="future-card-one-pager border-teal-600 reveal-on-scroll fade-in-left">
                    <div class="future-card-heading">
                        <div class="future-card-icon text-teal-600">
                            <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"></path></svg>
                        </div>
                        <h3 class="text-3xl font-bold text-teal-700">Landmark Consolidation: The HDFC & Exide Life Merger</h3>
                    </div>
                    <p class="mb-6 text-lg text-gray-600">This analysis covers the first M&A in Indian life insurance history, a transaction valued at ₹6,687 crore that serves as a blueprint for future synergy-driven growth.</p>
                    <div class="grid grid-cols-1 gap-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="font-bold text-xl md:text-2xl mb-2">Strategic Rationale</h4>
                                <ul class="list-disc list-inside space-y-1 text-base text-gray-700">
                                    <li><strong>Agency Channel Growth:</strong> Increased HDFC Life's agency channel by 34% (+36,700 agents).</li>
                                    <li><strong>Geographical Expansion:</strong> Gained a strong market presence in South India's Tier 2 & 3 cities.</li>
                                    <li><strong>Market Share Accretion:</strong> Added 1.3% to private sector market share, for a combined 16.1%.</li>
                                    <li><strong>Portfolio Diversification:</strong> Integrated a strong traditional and protection-oriented business.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-bold text-xl md:text-2xl mb-2">Key Outcomes & Challenges</h4>
                                <ul class="list-disc list-inside space-y-1 text-base text-gray-700">
                                    <li><strong>Margin Neutrality:</strong> Successfully maintained margin targets post-acquisition.</li>
                                    <li><strong>Integration Task:</strong> Focused on improving Exide Life's lower persistency ratio (75.9% vs 90% for HDFC Life).</li>
                                    <li><strong>Expedited Timeline:</strong> The entire M&A process was completed in under 14 months (Sep '21 - Oct '22).</li>
                                </ul>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-bold text-xl md:text-2xl mb-2">Financial Analysis of the Transaction</h4>
                            <ul class="list-disc list-inside space-y-1 text-base text-gray-700">
                                <li><strong>Valuation Multiple:</strong> The deal valued Exide Life at 2.47 times its embedded value of ₹2,711 crore.</li>
                                <li><strong>Embedded Value Impact:</strong> Augmented HDFC Life's embedded value by approximately 10%.</li>
                                <li><strong>Capital & Solvency Management:</strong> An initial cash payout of ₹726 crore was later bolstered by a ₹2,000 crore capital infusion, stabilizing the solvency profile.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="future-card-one-pager border-orange-600 reveal-on-scroll fade-in-right">
                    <div class="future-card-heading">
                        <div class="future-card-icon text-orange-600">
                            <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z"/></svg>
                        </div>
                        <h3 class="text-3xl font-bold text-orange-700">Sweeping IRDAI Reforms: A New Regulatory Framework</h3>
                    </div>
                    <p class="mb-6 text-lg text-gray-600">A comprehensive regulatory overhaul designed to create a more transparent, flexible, and customer-centric insurance landscape.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-8">
                        <div class="space-y-2">
                            <h4 class="text-xl font-bold text-gray-800 border-b-2 border-orange-200 pb-1">Customer-Centric Mandates</h4>
                            <p class="text-base"><strong>Customer Information Sheet (CIS):</strong> Mandates a policy summary in simplified, accessible language.</p>
                            <p class="text-base"><strong>Extended Free-Look Period:</strong> Increased from 15 to 30 days for policy review.</p>
                            <p class="text-base"><strong>Enhanced Surrender Values:</strong> Stipulates higher payouts for early policy termination, available post the first year.</p>
                        </div>
                        <div class="space-y-2">
                            <h4 class="text-xl font-bold text-gray-800 border-b-2 border-orange-200 pb-1">Increased Product Flexibility</h4>
                            <p class="text-base"><strong>Mandatory Policy Loans:</strong> All savings products must now offer loan facilities for liquidity.</p>
                            <p class="text-base"><strong>Partial Pension Withdrawals:</strong> Permitted from pension plans for specified life events.</p>
                            <p class="text-base"><strong>Inclusion of Health Riders:</strong> Life policies are now permitted to include health riders for comprehensive coverage.</p>
                        </div>
                        <div class="space-y-2">
                            <h4 class="text-xl font-bold text-gray-800 border-b-2 border-orange-200 pb-1">Structural Industry Changes</h4>
                            <p class="text-base"><strong>Composite Licenses:</strong> Allows insurers to offer Life, General, & Health products under a single entity.</p>
                            <p class="text-base"><strong>Use-and-File Procedure:</strong> Accelerates product launches by removing the need for prior IRDAI approval.</p>
                             <p class="text-base"><strong>Grievance Redressal Overhaul:</strong> Mandates 30-day compliance for Ombudsman awards with penalties for delays.</p>
                        </div>
                        <div class="space-y-2">
                            <h4 class="text-xl font-bold text-gray-800 border-b-2 border-orange-200 pb-1">Implementation Challenges for Insurers</h4>
                            <p class="text-base"><strong>Profitability Impact:</strong> Higher surrender value payouts may compress margins and necessitate product repricing.</p>
                            <p class="text-base"><strong>Operational Overhaul:</strong> New mandates require significant investment in technology and process re-engineering.</p>
                            <p class="text-base"><strong>Increased Competition:</strong> The introduction of composite licenses will intensify market competition.</p>
                        </div>
                    </div>
                </div>

                 <div class="future-card border-purple-600 reveal-on-scroll fade-in-left">
                    <div class="future-card-heading">
                        <div class="future-card-icon text-purple-600">
                            <svg width="100%" height="100%" class="w-12 h-12" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-1.5a1.125 1.125 0 01-1.125-1.125v-9.75c0-.621.504-1.125 1.125-1.125h.375m-1.5-1.5v-.75a.75.75 0 00-.75-.75h-.75M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-purple-700">Liberalized FDI Policy</h3>
                    </div>
                    <ul class="list-disc space-y-2 text-base">
                        <li>The proposed 100% FDI limit is intended to attract significant foreign capital and expertise.</li>
                        <li>This policy aims to intensify competition and accelerate product innovation.</li>
                        <li>A key condition requires all premiums collected in India to be invested domestically.</li>
                    </ul>
                </div>
                <div class="future-card border-indigo-600 reveal-on-scroll fade-in-right">
                    <div class="future-card-heading">
                        <div class="future-card-icon text-indigo-600">
                            <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-indigo-700">Strategic Vision: "Insurance for All by 2047"</h3>
                    </div>
                    <ul class="list-disc space-y-2 text-base">
                        <li>The industry's guiding objective for achieving universal insurance coverage.</li>
                        <li>This vision is supported by a comprehensive regulatory overhaul and digital transformation.</li>
                        <li>The focus is on creating a customer-centric, accessible, and inclusive ecosystem.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="competitive-dynamics" class="scroll-section">
            <h2 class="text-5xl font-bold text-center section-title reveal-on-scroll fade-in-up">Competitive Landscape Analysis</h2>
            <p class="max-w-5xl mx-auto text-center text-xl md:text-2xl leading-relaxed text-gray-700 mb-12 reveal-on-scroll fade-in-up" style="transition-delay: 100ms;">
                The Indian life insurance market is defined by intense competition between the public sector incumbent and private insurers. This section analyzes key financial metrics to compare their relative performance and market positioning.
            </p>
            <div class="grid grid-cols-1 gap-8 max-w-7xl mx-auto">
                <div class="chart-card lg:col-span-1 reveal-on-scroll fade-in-up">
                    <h3 class="text-xl font-semibold mb-1 text-center">AUM Market Share and Growth Analysis</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <h4 class="text-lg font-medium text-center mb-2">AUM Market Share (2024)</h4>
                            <div class="chart-container" style="height: 200px;">
                                <canvas id="aumPublicPrivateChart2024"></canvas>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-lg font-medium text-center mb-2">AUM Market Share (2023)</h4>
                            <div class="chart-container" style="height: 200px;">
                                <canvas id="aumPublicPrivateChart2023"></canvas>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-lg font-medium text-center mb-2">AUM Growth (FY23-24)</h4>
                            <div class="chart-container" style="height: 200px;">
                                <canvas id="aumGrowthRatesChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <p class="text-base text-gray-600 mt-4 text-center">
                        Analysis of Assets Under Management (AUM) reveals a significant trend. While LIC maintains the largest share, the private sector's AUM is growing at a much faster rate (22.2% vs. 9.4%), driven by market-linked products and agile investment strategies, indicating a long-term shift in the financial landscape.
                    </p>
                </div>
                <div class="chart-card lg:col-span-1 reveal-on-scroll fade-in-up" style="transition-delay: 200ms;">
                    <h3 class="text-xl font-semibold mb-1 text-center">Comparative Analysis of Premium Income Growth</h3>
                    <div class="flex flex-col items-center gap-8">
                        <div class="w-full">
                            <div class="chart-container">
                                <canvas id="totalPremiumPublicPrivateChart"></canvas>
                            </div>
                        </div>
                        <div class="w-full">
                             <p class="text-base text-gray-600 text-center">
                               Premium growth data highlights divergent trends. LIC's total premium growth has flattened, nearing zero in FY24, whereas private insurers have maintained a robust growth rate of approximately 15%, positioning the private sector as the primary driver of market expansion.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="chart-card lg:col-span-1 reveal-on-scroll fade-in-up" style="transition-delay: 400ms;">
                    <h3 class="text-xl font-semibold mb-1 text-center">New Business Premium (NBP) Sectoral Comparison</h3>
                    <div class="flex flex-col items-center gap-8">
                         <div class="w-full">
                            <div class="chart-container">
                                <canvas id="nbpPublicPrivateChart"></canvas>
                            </div>
                        </div>
                        <div class="w-full">
                            <p class="text-base text-gray-600 text-center">
                                New Business Premium (NBP) data indicates challenges for the incumbent. LIC's NBP declined in FY2024, while the private sector continued its upward trajectory. This suggests private insurers are more effectively acquiring new customers through product innovation and alternative distribution channels.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 gap-8 mt-12">
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-left">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">LIC's Enduring Market Position</h3>
                    <p class="text-base">The Life Insurance Corporation of India (LIC) continues to hold a dominant position, with a substantial 62.58% market share by First Year Premium Income (FYPI) in FY 2022-23 and 72% of total Assets Under Management (AUM) as of March 2024. Its extensive agent network and brand trust are key strengths.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-right">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Private Sector's Growth Trajectory</h3>
                    <p class="text-base">Prominent private sector players like HDFC Life, ICICI Prudential Life, SBI Life, and Max Life Insurance are rapidly expanding. They collectively recorded a 15% premium growth in FY24, significantly higher than the 0.23% for public sector insurers. This is driven by their agility, digital adoption, and targeted product innovation, especially in Unit-Linked Insurance Plans (ULIPs).</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-left">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Impact of Strategic Consolidation</h3>
                    <p class="text-base">Mergers like HDFC Life and Exide Life (2024) are enhancing distribution networks and product offerings. The market now comprises 26 life insurers, 25 general insurers, and 8 standalone health insurers, indicating consolidation and increased operational synergies.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-right">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">Evolving Distribution Dynamics</h3>
                    <p class="text-base">While LIC benefits from its legacy agent network, private insurers are gaining traction through bancassurance partnerships and technological advancements like AI-driven claims processing. The decline in LIC's group business further highlights the private sector's outperformance.</p>
                </div>
                <div class="story-card p-8 md:p-10 reveal-on-scroll fade-in-left">
                    <h3 class="text-2xl md:text-3xl font-bold mb-3">The Effect of Regulatory Reforms</h3>
                    <p class="text-base">The recent increase in the Foreign Direct Investment (FDI) limit to 100% is expected to inject capital, stimulate product innovation, and expand coverage. This will intensify competition and foster a more dynamic industry while strengthening consumer protections.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-8 text-center">
            <p>&copy; 2025 | Indian Life Insurance Sector Analysis.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // All data is centrally located for easy management.
            const data = {
                financialAggregates: {
                    labels: ['2019-20', '2020-21', '2021-22', '2021-23', '2023-24'],
                    totalPremium: [572910, 628731, 692614, 782503, 829929],
                    newPoliciesIssued: [2703, 2748, 2947, 3302, 3651],
                    aum: [3100000, 3400000, 3800000, 4200000, 4500000],
                    newBusinessPremium: [180000, 200000, 220000, 250000, 280000]
                },
                penetrationDensityGlobal: {
                    countries: [
                        { name: 'India', penetration: 3.7, density: 95 },
                        { name: 'World', penetration: 7.0, density: 889 },
                        { name: 'United Kingdom', penetration: 9.7, density: 4759 },
                        { name: 'United States of America', penetration: 11.9, density: 9640 },
                        { name: 'Japan', penetration: 8.9, density: 2938 },
                        { name: 'France', penetration: 8.7, density: 3867 },
                        { name: 'South Africa', penetration: 11.5, density: 718 },
                        { name: 'Singapore', penetration: 9.2, density: 7799 },
                        { name: 'South Korea', penetration: 11.0, density: 3603 },
                        { name: 'Germany', penetration: 6.8, density: 4500 },
                        { name: 'Canada', penetration: 7.5, density: 5500 },
                        { name: 'Australia', penetration: 4.2, density: 2759 }, /* Updated from image data */
                        { name: 'Brazil', penetration: 3.9, density: 390 }, /* Updated from image data */
                        { name: 'China', penetration: 3.9, density: 508 }, /* Updated from image data (PR China) */
                        { name: 'Italy', penetration: 6.0, density: 2500 },
                        { name: 'Spain', penetration: 5.5, density: 2000 },
                        { name: 'Mexico', penetration: 2.5, density: 150 },
                        { name: 'Argentina', penetration: 2.0, density: 100 },
                        { name: 'Egypt', penetration: 1.0, density: 30 },
                        { name: 'Nigeria', penetration: 0.7, density: 15 },
                        { name: 'Kenya', penetration: 2.1, density: 60 },
                        { name: 'Russia', penetration: 1.1, density: 155 }, /* Updated from image data */
                        { name: 'Turkey', penetration: 1.8, density: 120 },
                        { name: 'Saudi Arabia', penetration: 1.2, density: 350 },
                        { name: 'United Arab Emirates', penetration: 2.8, density: 1500 },
                        { name: 'Sweden', penetration: 8.0, density: 4000 },
                        { name: 'Norway', penetration: 7.8, density: 4200 },
                        { name: 'Denmark', penetration: 8.2, density: 3900 },
                        { name: 'Finland', penetration: 7.9, density: 3800 },
                        { name: 'Netherlands', penetration: 9.5, density: 5000 },
                        { name: 'Belgium', penetration: 8.3, density: 3700 },
                        { name: 'Switzerland', penetration: 6.9, density: 6830 }, /* Updated from image data */
                        { name: 'Austria', penetration: 7.0, density: 3000 },
                        { name: 'Ireland', penetration: 9.0, density: 4500 },
                        { name: 'New Zealand', penetration: 8.1, density: 5800 },
                        { name: 'Malaysia', penetration: 5.2, density: 590 }, /* Updated from image data */
                        { name: 'Thailand', penetration: 5.3, density: 384 }, /* Updated from image data */
                        { name: 'Vietnam', penetration: 1.5, density: 80 },
                        { name: 'Indonesia', penetration: 2.0, density: 90 },
                        { name: 'Philippines', penetration: 1.7, density: 70 },
                        { name: 'Colombia', penetration: 2.2, density: 110 },
                        { name: 'Chile', penetration: 4.8, density: 700 },
                        { name: 'Peru', penetration: 1.3, density: 50 },
                        { name: 'Greece', penetration: 3.0, density: 800 },
                        { name: 'Portugal', penetration: 4.0, density: 1200 },
                        { name: 'Poland', penetration: 3.2, density: 400 },
                        { name: 'Czech Republic', penetration: 3.8, density: 600 },
                        { name: 'Hungary', penetration: 2.8, density: 350 },
                        { name: 'Romania', penetration: 1.0, density: 90 },
                        { name: 'Bulgaria', penetration: 0.9, density: 80 },
                        { name: 'Croatia', penetration: 1.5, density: 150 },
                        { name: 'Hong Kong', penetration: 17.2, density: 8769 }, /* Added from image data */
                        { name: 'Pakistan', penetration: 0.7, density: 11 }, /* Added from image data */
                        { name: 'Taiwan', penetration: 10.3, density: 3307 } /* Added from image data */
                    ]
                },
                penetrationDensityIndiaHistorical: {
                    labels: ['2019-20', '2020-21', '2021-22', '2022-23', '2023-24'],
                    totalPenetration: [3.5, 3.8, 4.0, 4.2, 3.7],
                    totalDensity: [75, 80, 85, 92, 95],
                    lifePenetration: [2.74, 2.82, 3.2, 3.2, 3.0],
                    lifeDensity: [55, 58, 59, 69, 70]
                },
                competitiveData: {
                    totalPremium: {
                        labels: ['FY2020-21', 'FY2021-22', 'FY2021-23', 'FY2023-24'],
                        lic: [403286.55, 428024.97, 474668.14, 475751.92],
                        private: [225444.46, 264589.15, 307835.82, 353617.66],
                        licGrowth: [null, 6.136, 10.896, 0.228],
                        privateGrowth: [null, 17.368, 16.319, 14.873]
                    },
                    nbp: {
                        labels: ['FY2021-22', 'FY2022-23', 'FY2023-24'],
                        lic: [198932.18, 232050.60, 222195.00],
                        industry_average: [325994, 378000, 410000]
                    },
                    aumDistribution2024: {
                        labels: ['LIC', 'Private Players'],
                        data: [4423580, 1733270]
                    },
                    aumDistribution2023: {
                        labels: ['LIC', 'Private Players'],
                        data: [4043656, 1418261]
                    },
                    aumGrowthRates: {
                        labels: ['LIC', 'Private Players', 'Total Industry'],
                        data: [9.39, 22.21, 12.72]
                    }
                }
            };

            const chartColors = {
                linePrimary: 'rgba(0, 121, 107, 0.8)',
                lineSecondary: 'rgba(54, 162, 235, 0.8)',
                barPrimary: 'rgba(229, 115, 115, 0.8)',
                barSecondary: 'rgba(128, 128, 128, 0.5)',
                lifePenetrationColor: 'rgba(76, 175, 80, 0.8)',
                lifeDensityColor: 'rgba(255, 87, 34, 0.8)',
                licColor: '#36A2EB',
                privateColor: '#FF6384',
                industryAverageColor: '#8E44AD',
                licPieColor: '#36A2EB',
                privatePieColor: '#FFCD56',
                licPieColor2023: '#8E44AD',
                privatePieColor2023: '#2ECC71',
                overallPenetrationLine: 'rgba(52, 152, 219, 0.9)',
                lifePenetrationLine: 'rgba(39, 174, 96, 0.9)',
                overallDensityBar: 'rgba(230, 126, 34, 0.7)',
                lifeDensityBar: 'rgba(142, 68, 173, 0.7)'
            };

            const defaultChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { font: { size: 12, family: 'Lora' } }
                    },
                    tooltip: {
                        backgroundColor: '#34495e',
                        titleFont: { size: 14, weight: 'bold', family: 'Lora' },
                        bodyFont: { size: 12, family: 'Lora' },
                        padding: 10,
                        cornerRadius: 4,
                    }
                },
                scales: {
                     x: {
                        grid: { display: false },
                        ticks: { font: { size: 12, family: 'Lora' } }
                    },
                    y: {
                        grid: { color: 'rgba(200, 200, 200, 0.2)' },
                         ticks: { font: { size: 12, family: 'Lora' } }
                    }
                }
            };

            let tooltip = d3.select("body").select(".tooltip");
            if (tooltip.empty()) {
                tooltip = d3.select("body").append("div")
                    .attr("class", "tooltip")
                    .style("opacity", 0);
            }

            function createPictogramChart(containerId, chartData, valuePerIcon, iconSVG, unit) {
                const container = document.getElementById(containerId);
                d3.select(container).selectAll("*").remove();
                if (!container) return;

                const svg = d3.select(container).append("svg")
                    .attr("width", "100%")
                    .attr("height", "100%")
                    .attr("viewBox", `0 0 ${container.clientWidth} ${container.clientHeight}`)
                    .attr("preserveAspectRatio", "xMidYMid meet");

                const defs = svg.append("defs");

                const margin = { top: 50, right: 20, bottom: 70, left: 20 };
                const chartWidth = container.clientWidth - margin.left - margin.right;
                const chartHeight = container.clientHeight - margin.top - margin.bottom;

                const g = svg.append("g")
                    .attr("transform", `translate(${margin.left},${margin.top})`);

                const xScale = d3.scaleBand()
                    .domain(chartData.labels)
                    .range([0, chartWidth])
                    .padding(0.5);

                g.append("g")
                    .attr("class", "x-axis")
                    .attr("transform", `translate(0,${chartHeight})`)
                    .call(d3.axisBottom(xScale).tickSizeOuter(0))
                    .selectAll("text")
                    .style("font-family", "Lora")
                    .style("font-size", "12px");

                const maxIconsPerColumnForHeight = d3.max(chartData.data, d => Math.ceil(d / valuePerIcon));
                const iconHeight = Math.min(45, chartHeight / (maxIconsPerColumnForHeight + 2));
                const iconWidth = iconHeight;

                let labelFontSize = 14;
                if (container.clientWidth < 450) { labelFontSize = 12; }
                if (container.clientWidth < 350) { labelFontSize = 10; }

                chartData.labels.forEach((label, i) => {
                    const value = chartData.data[i];
                    const numFullIcons = Math.floor(value / valuePerIcon);
                    const remainder = value % valuePerIcon;
                    const fractionalHeightRatio = (remainder / valuePerIcon);

                    const xPos = xScale(label);
                    const columnBaseY = chartHeight;

                    for (let j = 0; j < numFullIcons; j++) {
                        const iconGroup = g.append("g")
                            .attr("class", "pictogram-icon-group")
                            .attr("transform", `translate(${xPos + (xScale.bandwidth() - iconWidth) / 2}, ${columnBaseY - (j + 1) * (iconHeight + 2)})`)
                            .html(iconSVG);
                        iconGroup.select("svg").attr("width", iconWidth).attr("height", iconHeight);
                    }

                    if (remainder > 0) {
                        const currentClipId = `clip-partial-icon-${containerId}-${i}`;
                        const clipRectHeight = iconHeight * fractionalHeightRatio;
                        const clipRectY = iconHeight - clipRectHeight;

                        defs.append("clipPath").attr("id", currentClipId).append("rect")
                            .attr("x", 0).attr("y", clipRectY).attr("width", iconWidth).attr("height", clipRectHeight);

                        const partialIconGroup = g.append("g").attr("class", "pictogram-icon-group")
                            .attr("transform", `translate(${xPos + (xScale.bandwidth() - iconWidth) / 2}, ${columnBaseY - (numFullIcons + 1) * (iconHeight + 2)})`)
                            .attr("clip-path", `url(#${currentClipId})`).html(iconSVG);

                        partialIconGroup.select("svg").attr("width", iconWidth).attr("height", iconHeight);
                    }

                    let formattedValue;
                    if (unit === 'Crores') {
                        formattedValue = value >= 100000 ? '₹' + (value / 100000).toLocaleString('en-IN', { minimumFractionDigits: 1, maximumFractionDigits: 1 }) + ' L Cr' : '₹' + value.toLocaleString('en-IN') + ' Cr';
                    } else if (unit === 'Lakhs') {
                        formattedValue = value.toLocaleString('en-IN') + ' Lakhs';
                    } else {
                        formattedValue = value.toLocaleString('en-IN');
                    }

                    g.append("text")
                        .attr("x", xPos + xScale.bandwidth() / 2)
                        .attr("y", -10)
                        .attr("text-anchor", "middle").attr("class", "value-label")
                        .style("font-family", "Playfair Display")
                        .style("font-size", `${labelFontSize}px`)
                        .style("font-weight", "bold")
                        .style("fill", "#333")
                        .text(formattedValue);
                });

                const legendText = `Each icon represents ${valuePerIcon.toLocaleString('en-IN')} ${unit}`;
                svg.append("text")
                    .attr("x", container.clientWidth / 2)
                    .attr("y", container.clientHeight - 20)
                    .attr("text-anchor", "middle")
                    .attr("class", "pictogram-unit-legend")
                    .text(legendText);
            }

            const rupeeCoinSVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 265.788"><path fill="#4CAF50" d="M0 0h512v265.789H0z"/><path fill="#81C784" d="M427.35 41.011c-.271 19.77 17.153 37.654 37.661 37.9v105.161c-21.602-.271-39.482 17.153-39.728 40.706H84.65c.271-21.603-17.157-39.487-37.662-39.733V79.884c21.685.246 39.58-17.167 39.826-38.873H427.35z"/><path fill="#4CAF50" d="M184.56 94.866c21.004-39.459 70.01-54.415 109.468-33.412 39.458 21 54.415 70.01 33.411 109.469-21 39.457-70.009 54.414-109.467 33.411-39.459-21.004-54.415-70.01-33.412-109.468z"/><path fill="#FEFEFE" d="M227.768 87.669h56.52c.484 0 .881.406.881.905l-.001 8.613a.895.895 0 01-.881.903h-17.652c2.783 3.237 4.771 7.137 5.673 11.422h11.98c.484 0 .88.404.88.903v8.614c0 .497-.396.905-.88.905h-11.98c-1.081 5.131-3.724 9.715-7.421 13.263-4.843 4.647-11.51 7.529-18.838 7.529v.03h-.815l31.703 36.151c.857.978-.644 3.153-1.317 3.156l-14.657.083-33.844-38.593a1.18 1.18 0 01-.23-1.142v-14.134h19.16v.028c3.445 0 6.568-1.346 8.829-3.512a11.857 11.857 0 002.197-2.859h-29.307c-.484 0-.879-.408-.879-.905v-8.614c0-.499.396-.903.879-.903l29.307-.001a11.781 11.781 0 00-2.197-2.858c-2.261-2.169-5.384-3.514-8.829-3.514v.027l-19.16.001V88.574c0-.499.395-.905.878-.905h.001z"/></svg>`;
            const documentSVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" fill="#FFF" stroke="#4A4A4A"/><path d="M14 2v6h6" stroke="#4A4A4A"/><path d="M8 12h8M8 16h4" stroke="#6B7280"/></svg>`;
            const buildingSVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L3 7v14h18V7z" fill="#78909C" stroke="#4A4A4A"/><path d="M7 10v9M12 10v9M17 10v9" stroke="#CFD8DC" stroke-width="1.5"/><path d="M3 7l9-5 9 5" stroke="#4A4A4A"/></svg>`;
            const newBusinessPremiumSVG = `<svg viewBox="0 0 64 64"><rect x="4" y="16" width="56" height="32" rx="4" fill="#22C55E" stroke="#16A34A" stroke-width="2"/><text x="32" y="42" text-anchor="middle" font-size="16" font-weight="bold" fill="#FFFFFF">₹</text></svg>`;

            createPictogramChart('totalPremiumPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.totalPremium }, 100000, rupeeCoinSVG, 'Crores');
            createPictogramChart('newPoliciesPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.newPoliciesIssued }, 500, documentSVG, 'Lakhs');
            createPictogramChart('aumPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.aum }, 500000, buildingSVG, 'Crores');
            createPictogramChart('newBusinessPremiumPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.newBusinessPremium }, 20000, newBusinessPremiumSVG, 'Crores');

            new Chart(document.getElementById('penetrationDensityCombinedChart'), { type: 'line', data: { labels: data.penetrationDensityIndiaHistorical.labels, datasets: [ { label: 'Overall Penetration (%)', data: data.penetrationDensityIndiaHistorical.totalPenetration, borderColor: chartColors.overallPenetrationLine, tension: 0.1, fill: false, yAxisID: 'y-penetration' }, { label: 'Life Penetration (%)', data: data.penetrationDensityIndiaHistorical.lifePenetration, borderColor: chartColors.lifePenetrationLine, tension: 0.1, fill: false, yAxisID: 'y-penetration' }, { label: 'Overall Density ($)', data: data.penetrationDensityIndiaHistorical.totalDensity, type: 'bar', backgroundColor: chartColors.overallDensityBar, yAxisID: 'y-density' }, { label: 'Life Density ($)', data: data.penetrationDensityIndiaHistorical.lifeDensity, type: 'bar', backgroundColor: chartColors.lifeDensityBar, yAxisID: 'y-density' } ] }, options: { ...defaultChartOptions, scales: { x: { grid: { display: false } }, 'y-penetration': { type: 'linear', position: 'left', grid: { color: 'rgba(200, 200, 200, 0.2)' }, ticks: { callback: value => value + '%' }, title: { display: true, text: 'Penetration (%)' }, min: 2.0, max: 4.5 }, 'y-density': { type: 'linear', position: 'right', grid: { display: false }, ticks: { callback: value => '$' + value }, title: { display: true, text: 'Density ($)' }, min: 0, max: 100 } } } });

            function createWorldMap() {
                const mapContainer = document.getElementById('worldMap');
                d3.select("#worldMap").select("svg").remove();
                if (!mapContainer || mapContainer.clientWidth === 0) { setTimeout(createWorldMap, 100); return; }
                const width = mapContainer.clientWidth, height = mapContainer.clientHeight;
                const svg = d3.select("#worldMap").append("svg")
                    .attr("width", width)
                    .attr("height", height)
                    .attr("viewBox", `0 0 ${width} ${height}`)
                    .attr("preserveAspectRatio", "xMidYMid meet");

                const projection = d3.geoMercator()
                    .scale(width / (2 * Math.PI))
                    .translate([width / 2, height / 1.5]);
                const path = d3.geoPath().projection(projection);

                d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(world => {
                    const countries = topojson.feature(world, world.objects.countries).features;
                    const countryDataMap = new Map(data.penetrationDensityGlobal.countries.map(d => [d.name, d]));

                    const penetrationColorScale = d3.scaleSequential(d3.interpolateGreens)
                        .domain([0, d3.max(data.penetrationDensityGlobal.countries, d => d.penetration)]);

                    svg.selectAll("path")
                        .data(countries)
                        .enter().append("path")
                        .attr("class", "country")
                        .attr("d", path)
                        .attr("fill", d => countryDataMap.has(d.properties.name) ? penetrationColorScale(countryDataMap.get(d.properties.name).penetration) : "#ccc")
                        .style("stroke", "#eee")
                        .style("stroke-width", "0.7px")
                        .on("mouseover", (event, d) => {
                            const countryInfo = countryDataMap.get(d.properties.name);
                            if (countryInfo) {
                                d3.select(event.currentTarget).attr("fill", "orange").style("stroke", "#FFA500");
                                tooltip.html(`<strong>${d.properties.name}</strong><br/>Penetration: ${countryInfo.penetration}%<br/>Density: $${countryInfo.density.toLocaleString()}`)
                                    .style("left", (event.pageX + 10) + "px")
                                    .style("top", (event.pageY - 28) + "px")
                                    .transition()
                                    .duration(200)
                                    .style("opacity", .9);
                            }
                        })
                        .on("mouseout", (event, d) => {
                            const countryInfo = countryDataMap.get(d.properties.name);
                            d3.select(event.currentTarget)
                                .attr("fill", countryInfo ? penetrationColorScale(countryInfo.penetration) : "#ccc")
                                .style("stroke", "#eee");
                            tooltip.transition().duration(500).style("opacity", 0);
                        });

                    const worldData = data.penetrationDensityGlobal.countries.find(c => c.name === 'World');
                    if (worldData) {
                        const worldBubbleCoords = projection([-25, -20]); 

                        const worldBubble = svg.append("g")
                            .attr("transform", `translate(${worldBubbleCoords[0]}, ${worldBubbleCoords[1]})`)
                            .attr("class", "world-bubble")
                            .style("pointer-events", "all") 
                            .on("mouseover", (event) => {
                                tooltip.html(`<strong>World Average</strong><br/>Penetration: ${worldData.penetration}%<br/>Density: $${worldData.density.toLocaleString()}`)
                                    .style("left", (event.pageX + 10) + "px")
                                    .style("top", (event.pageY - 28) + "px")
                                    .transition()
                                    .duration(200)
                                    .style("opacity", .9);
                            })
                            .on("mouseout", () => {
                                tooltip.transition().duration(500).style("opacity", 0);
                            });

                        worldBubble.append("circle")
                            .attr("r", 45) 
                            .attr("fill", "rgba(255, 127, 80, 0.9)") 
                            .attr("stroke", "rgba(255, 69, 0, 1)") 
                            .attr("stroke-width", 2)
                            .style("cursor", "pointer");

                        worldBubble.append("text")
                            .attr("y", -15)
                            .attr("text-anchor", "middle")
                            .style("font-size", "11px")
                            .style("font-weight", "bold")
                            .style("fill", "#FFF") 
                            .text("World Average");

                        worldBubble.append("text")
                            .attr("y", 2)
                            .attr("text-anchor", "middle")
                            .style("font-size", "10px")
                            .style("fill", "#FFF")
                            .text(`Penetration: ${worldData.penetration}%`);

                        worldBubble.append("text")
                            .attr("y", 17)
                            .attr("text-anchor", "middle")
                            .style("font-size", "10px")
                            .style("fill", "#FFF")
                            .text(`Density: $${worldData.density.toLocaleString()}`);
                    }

                }).catch(error => console.error("Error loading TopoJSON data:", error));
            }
            setTimeout(createWorldMap, 0);

            new Chart(document.getElementById('totalPremiumPublicPrivateChart'), { type: 'line', data: { labels: data.competitiveData.totalPremium.labels, datasets: [ { label: 'LIC Total Premium (₹ Cr)', data: data.competitiveData.totalPremium.lic, borderColor: chartColors.licColor, tension: 0.1, fill: false, yAxisID: 'y' }, { label: 'Private Players Total Premium (₹ Cr)', data: data.competitiveData.totalPremium.private, borderColor: chartColors.privateColor, tension: 0.1, fill: false, yAxisID: 'y' }, { label: 'LIC Growth (%)', data: data.competitiveData.totalPremium.licGrowth, borderColor: chartColors.licColor, borderDash: [5, 5], tension: 0.1, fill: false, yAxisID: 'y1' }, { label: 'Private Players Growth (%)', data: data.competitiveData.totalPremium.privateGrowth, borderColor: chartColors.privateColor, borderDash: [5, 5], tension: 0.1, fill: false, yAxisID: 'y1' } ] }, options: { ...defaultChartOptions, scales: { x: { grid: { display: false } }, y: { type: 'linear', position: 'left', grid: { color: 'rgba(200, 200, 200, 0.2)' }, ticks: { callback: value => '₹' + value.toLocaleString() }, title: { display: true, text: 'Premium Income (₹ Crores)' } }, y1: { type: 'linear', position: 'right', grid: { display: false }, ticks: { callback: value => value + '%' }, title: { display: true, text: 'Growth Rate (%)' } } } } });
            new Chart(document.getElementById('nbpPublicPrivateChart'), { type: 'bar', data: { labels: data.competitiveData.nbp.labels, datasets: [ { label: 'LIC NBP', data: data.competitiveData.nbp.lic, backgroundColor: chartColors.licColor }, { label: 'Total Private NBP', data: data.competitiveData.nbp.industry_average, backgroundColor: chartColors.industryAverageColor } ] }, options: { ...defaultChartOptions, scales: { x: { stacked: false }, y: { type: 'linear', position: 'left', ticks: { callback: value => '₹' + value.toLocaleString() } } } } });
            new Chart(document.getElementById('aumPublicPrivateChart2024'), { type: 'pie', data: { labels: data.competitiveData.aumDistribution2024.labels, datasets: [{ data: data.competitiveData.aumDistribution2024.data, backgroundColor: [chartColors.licPieColor, chartColors.privatePieColor] }] }, options: { ...defaultChartOptions, scales: {} } });
            new Chart(document.getElementById('aumPublicPrivateChart2023'), { type: 'pie', data: { labels: data.competitiveData.aumDistribution2023.labels, datasets: [{ data: data.competitiveData.aumDistribution2023.data, backgroundColor: [chartColors.licPieColor2023, chartColors.privatePieColor2023] }] }, options: { ...defaultChartOptions, scales: {} } });
            new Chart(document.getElementById('aumGrowthRatesChart'), { type: 'bar', data: { labels: data.competitiveData.aumGrowthRates.labels, datasets: [{ label: 'AUM Growth Rate (%)', data: data.competitiveData.aumGrowthRates.data, backgroundColor: [chartColors.licColor, chartColors.privateColor, chartColors.barSecondary] }] }, options: { ...defaultChartOptions, plugins: { ...defaultChartOptions.plugins, legend: { display: false } }, scales: { y: { ticks: { callback: value => value + '%' }, beginAtZero: true } } } });

            // Dynamic Scrollytelling implementation
            const elementsToReveal = document.querySelectorAll('.reveal-on-scroll');

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    } else {
                        entry.target.classList.remove('is-visible');
                    }
                });
            };

            const observerOptions = {
                root: null,
                threshold: 0.1, 
                rootMargin: "0px"
            };
            
            const observer = new IntersectionObserver(observerCallback, observerOptions);

            elementsToReveal.forEach(element => {
                observer.observe(element);
            });


            window.addEventListener('resize', () => {
                setTimeout(createWorldMap, 100);
                createPictogramChart('totalPremiumPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.totalPremium }, 100000, rupeeCoinSVG, 'Crores');
                createPictogramChart('newPoliciesPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.newPoliciesIssued }, 500, documentSVG, 'Lakhs');
                createPictogramChart('aumPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.aum }, 500000, buildingSVG, 'Crores');
                createPictogramChart('newBusinessPremiumPictogram', { labels: data.financialAggregates.labels, data: data.financialAggregates.newBusinessPremium }, 20000, newBusinessPremiumSVG, 'Crores');
            });
        });
    </script>
</body>
</html>
